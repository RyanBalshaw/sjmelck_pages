<!DOCTYPE html>
{{ $colour_mode := "auto" }}

<html data-bs-theme= {{ $colour_mode }}>
    {{- partial "head.html" . -}}
    {{- partial "init-popovers.html" . -}}

    <body>
        {{- partial "header.html" . -}}

        {{ if eq .Type "about" }}

                {{- partial "social-links.html" . -}}

        {{ else }}

                {{- block "main" . }}{{- end }}

        {{ end }}

<!--        Script for Mermaid graphs-->
    {{ if .Store.Get "hasMermaid" }}
      <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true });
      </script>
    {{ end }}

    </body>

    {{- partial "footer.html" . -}}

    {{ if .Param "math" }}
        {{ partialCached "math.html" . }}
    {{ end }}

</html>
